main[class^="chatContent-"] {
    form[class^="form-"] {
        // add border around text area
        div[class^="channelTextArea-"] {
            border: solid 1px $surface1;

            div[class^="attachedBars-"] {
                border-top: solid 1px $surface1;

                div[class^="replyBar-"],
                div[class^="threadSuggestionBar-"] {
                    background: darken($crust, 2%);
                }
            }

            svg[class*="stickerIcon-"] {
                color: var(--interactive-normal) !important;
            }
        }

        [class*="inlineCode-"] {
            background: $surface0;
        }

        code.inline {
            background: $surface0;
        }
    }

    // code stuff
    [class*="after_inlineCode-"],
    [class*="before_inlineCode-"],
    [class*="codeBlockSyntax-"],
    [class*="syntaxAfter-"],
    [class*="syntaxBefore-"] {
        color: $overlay1;
    }

    // [class*="inlineCode-"] {
    //     background: $surface0;
    // }

    // code.inline {
    //     background: $surface0;
    // }

    // [class*="markup-"] code.inline {
    //     border: solid 1px $overlay1;
    //     box-sizing: border-box;
    //     padding: 0.15em 0.2em 0.15em;
    // }

    div[class^="container-"] div[class^="cardWrapper-"] {
        div[class*="completed-"] {
            svg[class^="checkmark-"] {
                background-color: $green;
                color: $crust;
            }
        }
    }
}

div[class^="messageAttachment-"] {
    > div[class^="wrapperAudio"],
    > div[class^="attachment-"] {
        --background-secondary: #{$surface1};
        --background-secondary-alt: #{$surface1};
        --text-link: #{$text};
        font-weight: 500;
    }

    div[class^="attachmentInner-"] {
        div[class^="metadata-"] {
            color: var(--text-muted);
            opacity: 90%;
            font-weight: 500;
            margin-top: 0.1em;
        }
    }

    > div {
        border-radius: 10px;
    }

    svg[class*="metadataIcon-"],
    svg[class*="downloadButton-"] {
        color: transparent !important;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' x='0' y='0' version='1.1' viewBox='162.98 233.98 770.93 629.87'%3E%3Cpath fill='%23#{str-slice(inspect($subtext0), 2)}' d='M194.2 474.7c117-1 586.9-.7 703.6-.6 5.6 0 14.9 17.2 11.4 21.1-29.5 33.1-320.7 341.8-346 363.2-6.7 5.6-29.5 8.4-37.5.8-40.9-38.8-317.4-338.4-341.8-367.9-1.1-1.3 5.8-16.6 10.3-16.6zM218.4 234.1s568.8-.6 688 1.1c8.9.1 22.7 15.1 25.2 25.5 4.2 17.1 1.4 36 1 54.2-.6 29.1-19.9 41.8-54 36.4-6.7-1.1-441.5-2.1-652.1-2.2-17.3 0-40.6 2-50.4-7.7-10.9-10.8-12.3-33.9-12.8-51.8-1.4-55.5-.5-55.5 55.1-55.5z'%3E%3C/path%3E%3C/svg%3E")
            center/cover no-repeat;
        transform: scale(0.65);
    }

    img[class^="icon-"] {
        top: -2px;
        left: 1px;
        position: relative;
        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='2.69 2.82 880.44 1077.05'%3E%3Cg%3E%3Cpath fill='%23#{str-slice(inspect($subtext1), 2)}' d='M794.4 1079.5c-4.1-.5-488.6-.3-710-.3-5.7 0-12.2-.3-16.8-3.1-10.7-6.5-20.6-14.5-30.6-22.1-22.7-17.2-34.2-39.8-34.2-68.6.1-181.8.2-363.7.1-545.5 0-114.9.2-229.8-.2-344.7-.1-23.6 10.9-41.6 25.8-57.6 7.6-8.1 18.4-13.1 26.9-20.5C68.4 5.9 83.8 3 99.8 3c141.6-.2 283.2-.2 424.7-.1 25.9 0 48.5 10.3 67.5 26.3 17.8 15 221.7 221.6 245.3 242.9 19.4 17.5 35.4 37.1 45.8 61.2v673.1l-4.5 9.9c-10.6 23.2-28.8 39.3-49.3 53.4-10.5 7.3-21.7 11.4-34.9 9.8zM73.2 538.8v428.5c0 26.9 6.9 39.3 25 43.3 9.5 2 19.2 3 28.9 3 187.2.2 374.4.2 561.6 0 28.6 0 57.2-2.5 85.7-2 27.7.5 37.9-15.3 37.9-40.1.4-202.7.3-405.3-.4-608 0-11.1-5.9-24.6-13.5-32.9-20.1-22.1-209.6-209-239.7-238-14.5-14-94.4-19.6-115.6-19.6-110.1.2-220.2.8-330.4-.3-28.4-.2-39.8 14.5-39.7 40 .3 142 .3 284.1.2 426.1z M623.5 791.2H279.1c-10.7 0-21.6 1.4-32-.4-10.4-1.9-13.1-11.7-12.6-20.9.5-9.1 6.7-13.5 15.8-13.5h351.8c11.1 0 22.2-.2 33.3-.1 9 .1 14.6 4.5 16 13.6 1.5 9.5-3.4 15.8-11.3 19.6-5.1 2.3-16.5 2.8-16.6 1.7zM620.2 639.9c-59.4.2-299.2.1-359.7.1-15 0-22.2-4.9-25.4-17-2.4-9.2 3-17.3 12.7-17.8 9.5-.5 19-.1 28.5-.1h355c9 0 18.7-1.3 20.2 11.7 1.3 11.3-3.8 18-16.5 20.9-4.8 1.3-9.8 2.1-14.8 2.2zM252.9 454c59.8-.1 316.5 0 379.8 0 15.5 0 23.9 8.4 17.9 20-3.1 6.1-13.2 11.2-20.5 11.8-16.3 1.4-269.2.6-371.8.5-15.3 0-23.6-5.6-24-16-.5-11.2 5.1-16.3 18.6-16.3z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
        background: transparent;
    }

    div[class^="audioMetadata-"]:before {
        content: "";
        width: 32px;
        height: 38px;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='2.68 0.3 879.95 1078.95'%3E%3Cg%3E%3Cpath fill='%23#{str-slice(inspect($subtext1), 2)}' d='M882.6 331.5v674.2l-4.5 9.9c-10.5 23.2-28.8 39.4-49.2 53.5-10.6 7.3-21.8 11.4-34.9 9.8-4.1-.5-488.5-.3-709.9-.3-5.7 0-12.2-.4-16.8-3.2-10.7-6.6-20.5-14.5-30.6-22.2-22.3-17-34-39.2-34-67.6.2-297.3.2-594.5 0-891.8 0-28.9 13.9-50.8 34.9-67.3C52.2 15.1 70.8 8.8 87.5.3h448.3c1.1.9 2.2 2.4 3.4 2.4 20.7 1.1 37.6 12 52.5 24.3 17.6 14.6 32.5 32.5 48.7 48.8 25 25.2 50.1 50.3 75.2 75.3 17.6 17.6 35.1 35.1 52.8 52.5 22.7 22.3 44.9 45.2 68.5 66.6 19.4 17.6 35.4 37.1 45.7 61.3zM73 111.6c.2 141.5.1 668.9.2 791.1.1 27 1.8 54.1 2.1 81.1.2 13.8 7.6 21.5 19.6 24.5 10.4 2.6 21.3 4.5 32 4.6 188.3.3 376.6.3 564.9.1 27.4 0 54.8-2.5 82.1-2 27.9.6 38-15.6 38-40.1.4-203 .3-406-.4-609 0-11.2-5.9-24.6-13.4-33-20.1-22.2-43-41.8-64.1-63.1-28.8-29-56.7-59-85.7-87.9-29.5-29.5-59.8-58.3-89.8-87.4-14.5-14-30.7-23.5-52-22.2-21.1 1.4-42.3 2.3-63.5 2.4-110 .3-220.1.9-330.1-.3-28.5-.2-40 14.5-39.9 41.2z M405.3 457.4c0-33.5-.4-67 .5-100.4.1-5 6.6-9.8 9.9-14.8 7.2-11.3 17.7-12.5 30.3-12.8 46-1 86.9 12.9 122.3 41.4 43.8 35.2 71 81.4 82.6 136.3 3.8 17.9 5.4 36.4 7.1 54.7 1.6 17.4-14.7 33.9-32.1 32.7-3.9-.3-8.2-2.4-11.4-4.8-23.2-17.5-50.2-26.4-77.8-33.3-16-4-23.1 2.4-23.1 18.9.2 49.6 1.5 99.3 0 148.9-1.2 40.7-21.8 73-52.4 98.5-23.6 19.8-51.7 30-82.4 30.9-34.1 1-65.2-9.4-92-30.8-28.4-22.6-47-51.3-53.1-87.9-6.8-40.8 2.5-77.2 27.3-109.9 24-31.8 56.3-49.9 95.1-55.9 11.8-1.9 24.3-.5 36.4.1 10.1.5 14.1-3.3 13.9-13.8-.4-32.7-.2-65.4-.2-98.1l-.9.1zm43.4 44.2h.1c0 36.7.2 73.3-.2 110-.1 6.6-2.3 13.2-3.6 19.8-5.9-2.3-12.1-4.2-17.7-7.2-38.8-20.7-77.5-20.6-113.3 5.1s-50.3 62-41.6 105.5c10.9 54.9 59.1 86.7 107.4 83.4 64.6-4.4 96.6-54.2 100.6-105.5 2.7-34.4.5-69.2.4-103.8 0-28.6.1-57.2-.4-85.8-.1-7.3 1.7-11 9.4-11.5 43.9-3 85.5 4 123.3 28 2.8 1.8 6.3 2.5 9.5 3.7.1-3.5 1.2-7.4.2-10.5-8.2-23.8-14.6-48.6-25.9-70.9-10.1-19.8-22.8-40.8-39.9-54.1-25.8-20.3-56.5-33.5-89-38.3-15.6-2.3-19.4.3-19.4 16.3.1 38.5.1 77.2.1 115.8z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E")
            center/cover no-repeat;
    }

    div[class^="audioControls-"],
    div[class^="videoControls-"] {
        background-color: $mantle;
        margin-top: 6px;
        border-radius: 8px;
        color: $subtext1;
    }

    div[class^="mediaBarWrapper-"] {
        div[class^="bubble-"] {
            color: $subtext1;
            background-color: $surface0;

            &::before {
                border-top: 5px solid $surface0;
            }
        }
    }
}

// emoji button
div[class^="channelTextArea-"] button[class*="emojiButton-"] {
    background: transparent !important;
}

// autocomplete chat textboxes
div[class*="autocomplete-"] {
    background-color: $crust !important;

    div[class*="categoryHeader"] {
        background-color: $mantle !important;
    }
    div[class*="autocompleteRowSubheading"] {
        background-color: transparent;
    }
    div[class*="autocompleteRowContentSecondary"] {
        background-color: transparent;
    }
    div[class^="usageWrapper-"] > div[class*="title-"] {
        color: $brand !important;
    }

    strong {
        color: $brand !important;
    }
}

div[class^="chat"] > div[class^="content-"] > div[class^="container-"] {
    background-color: $base;

    div[class*="mainCard-"] {
        background-color: $surface0;
    }
}

div[class^="sidebar-"] > section[class^="panels-"] {
    svg[class*="buttonIcon-"],
    div[class*="buttonContents"] {
        fill: $text;
        color: $text;
    }
}

[data-list-id^="forum-channel-list-"] {
    div[class^="body-"] > div[class^="tags"] div[class*="pill"] {
        background-color: $mantle;
    }

    // new post button
    button[class^="submitButton-"][class*="colorBrand"] {
        background-color: $brand;
        color: $text;
    }
}

// fix the sidebar on smaller servers
div[class^="chat"]
    > div[class^="content-"]
    main[class^="chatContent-"]
    + div[class^="container-"] {
    background-color: var(--background-secondary);
}

// arrow when someone joins
div[style*="d1382af8d9e755bc44811b1fd92990a8.svg"] {
    background-image: url("data:image/svg+xml,%3Csvg height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='m18 0h-18v18h18z'/%3E%3Cpath d='m0 8h14.2l-3.6-3.6 1.4-1.4 6 6-6 6-1.4-1.4 3.6-3.6h-14.2' fill='%23#{str-slice(inspect($green), 2)}'/%3E%3C/g%3E%3C/svg%3E") !important;
    filter: none !important;
}

// spoiler messages
.theme-dark,
.theme-light {
    span[class^="spoilerText"] {
        background-color: $surface0;

        &[class*="hidden"] {
            background-color: $surface2;

            &:hover {
                background-color: lighten($surface2, 5%);
            }
        }
    }

    div[class^="spoilerContainer-"] {
        div[class^="spoilerWarning-"] {
            color: $text;
            background-color: adjust-color($crust, $alpha: -0.3);
        }

        &:hover {
            div[class^="spoilerWarning-"] {
                color: $text;
                background-color: $crust;
            }
        }

        article[class*="embedFull-"] {
            border-color: $surface2;
        }
    }
}

// div[class^="chat-"] > section[class^="title-"] {
//     > div[class^="children-"] > div[class^="iconWrapper-"] {
//         &:first-child {
//             svg[class^="icon-"]
//                 path[d="M14 8C14 7.44772 13.5523 7 13 7H9.76001L10.3657 3.58738C10.4201 3.28107 10.1845 3 9.87344 3H8.88907C8.64664 3 8.43914 3.17391 8.39677 3.41262L7.76001 7H4.18011C3.93722 7 3.72946 7.17456 3.68759 7.41381L3.51259 8.41381C3.45905 8.71977 3.69449 9 4.00511 9H7.41001L6.35001 15H2.77011C2.52722 15 2.31946 15.1746 2.27759 15.4138L2.10259 16.4138C2.04905 16.7198 2.28449 17 2.59511 17H6.00001L5.39427 20.4126C5.3399 20.7189 5.57547 21 5.88657 21H6.87094C7.11337 21 7.32088 20.8261 7.36325 20.5874L8.00001 17H14L13.3943 20.4126C13.3399 20.7189 13.5755 21 13.8866 21H14.8709C15.1134 21 15.3209 20.8261 15.3632 20.5874L16 17H19.5799C19.8228 17 20.0306 16.8254 20.0724 16.5862L20.2474 15.5862C20.301 15.2802 20.0655 15 19.7549 15H16.35L16.6758 13.1558C16.7823 12.5529 16.3186 12 15.7063 12C15.2286 12 14.8199 12.3429 14.7368 12.8133L14.3504 15H8.35045L9.41045 9H13C13.5523 9 14 8.55228 14 8Z"] {
//                 fill: transparent !important;
//             }

//             &:before {
//                 content: " ";
//                 -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='172.3 169 667.59 666.93'%3E%3Cpath  d='M839.88 498.33C836.41 597.16 802 678 733.48 743.4c-50.3 48-110.29 77.38-178.9 88.38-78.6 12.6-151.76-4-219.18-45C253.62 737 201.92 664.49 180.6 571.45c-20.23-88.28-2.81-170.83 45.58-246.52 50.72-79.32 123.26-129 215.15-148.58 92.93-19.8 178.45 1.07 255.31 55.33 77.14 54.47 122.94 129.61 138.43 222.85 2.65 15.9 3.56 32.08 4.81 43.8ZM584.51 254.09c-15.54 1.61-31.25 2.23-46.58 5C461 272.87 402.78 314.13 364.2 381.85c-30.55 53.62-38 111.92-27.16 172.07 14.7 81.39 59.92 141.22 133.65 178.43 56.88 28.71 117.53 33.65 178.47 17.75 88.5-23.07 147.26-79.87 175.61-166.91 13-39.78 14-80.86 7.29-122.05-8.95-54.6-33.78-101.08-74-138.82-48.62-45.6-106.94-67.2-173.55-68.23Zm-86.12 294.44c-18.79-1.6-37.39-15.53-42.22-36.82-3.38-15.07 3.85-26.8 13.89-37 6.56-6.63 14.77-11.34 24.05-12.1a40.12 40.12 0 0 1 18.31 2.95c16.06 6.86 26.16 19.25 28.63 36.76.66 4.66-.53 9.94-2.13 14.49a47.84 47.84 0 0 1-40.53 31.72Zm181.36-86.72c19.26 1.58 38.93 15.78 43.09 38.5 2.65 14.43-4.36 26-14.38 35.39-24.85 23.22-62.32 10.3-70.46-23.9-2.39-10.06.88-18.73 5.87-27 8.35-13.65 20.8-21.05 35.88-22.99Z'/%3E%3C/svg%3E");
//                 mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='172.3 169 667.59 666.93'%3E%3Cpath  d='M839.88 498.33C836.41 597.16 802 678 733.48 743.4c-50.3 48-110.29 77.38-178.9 88.38-78.6 12.6-151.76-4-219.18-45C253.62 737 201.92 664.49 180.6 571.45c-20.23-88.28-2.81-170.83 45.58-246.52 50.72-79.32 123.26-129 215.15-148.58 92.93-19.8 178.45 1.07 255.31 55.33 77.14 54.47 122.94 129.61 138.43 222.85 2.65 15.9 3.56 32.08 4.81 43.8ZM584.51 254.09c-15.54 1.61-31.25 2.23-46.58 5C461 272.87 402.78 314.13 364.2 381.85c-30.55 53.62-38 111.92-27.16 172.07 14.7 81.39 59.92 141.22 133.65 178.43 56.88 28.71 117.53 33.65 178.47 17.75 88.5-23.07 147.26-79.87 175.61-166.91 13-39.78 14-80.86 7.29-122.05-8.95-54.6-33.78-101.08-74-138.82-48.62-45.6-106.94-67.2-173.55-68.23Zm-86.12 294.44c-18.79-1.6-37.39-15.53-42.22-36.82-3.38-15.07 3.85-26.8 13.89-37 6.56-6.63 14.77-11.34 24.05-12.1a40.12 40.12 0 0 1 18.31 2.95c16.06 6.86 26.16 19.25 28.63 36.76.66 4.66-.53 9.94-2.13 14.49a47.84 47.84 0 0 1-40.53 31.72Zm181.36-86.72c19.26 1.58 38.93 15.78 43.09 38.5 2.65 14.43-4.36 26-14.38 35.39-24.85 23.22-62.32 10.3-70.46-23.9-2.39-10.06.88-18.73 5.87-27 8.35-13.65 20.8-21.05 35.88-22.99Z'/%3E%3C/svg%3E");
//                 position: absolute;
//                 height: 24px;
//                 width: 24px;
//                 fill: var(--header-primary);
//                 background-color: currentColor;
//                 filter: blur(1px);
//                 // transform: scale(0.4) translate(-32px, -38px);
//             }
//         }
//     }
// }
